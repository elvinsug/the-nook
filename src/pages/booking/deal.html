<!DOCTYPE html>
<html lang="en" class="no-scrollbar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Nook | Book Your Deal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../global.css" />
    <link rel="icon" type="image/x-icon" href="../../../public/favicon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <main style="background-color: var(--beige-700);" class="flex flex-col min-h-screen w-screen p-4 gap-4">
      <!-- Navbar -->
      <nav class="bg-white sticky">
        <div class="flex items-center justify-between px-4 md:px-6 py-3 relative">
            <!-- Logo -->
            <a href="../../index.html" class="flex-shrink-0 px-2">
                <img src="../../../public/logo/with-text-dark.svg" alt="Logo" class="w-auto h-9 md:h-12 hidden md:block">
                <img src="../../../public/logo/icon-only-dark.svg" alt="Logo" class="w-auto h-full md:hidden">
            </a>
            
            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center gap-9 h6 absolute left-1/2 transform -translate-x-1/2">
                <a href="../../index.html" class="hover:opacity-60 transition-opacity">Home</a>
                <a href="../menu/index.html" class="hover:opacity-60 transition-opacity">Menu</a>
                <a href="./../contact/index.html" class="hover:opacity-60 transition-opacity">Contact</a>
            </div>
            
            <!-- Right Side -->
            <div class="flex items-center gap-3 md:gap-4">
                <a href="./index.html" class="btn-primary justify-center">
                    <p class="h6">Reserve Now</p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M6 12L10 8L6 4" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                
                <!-- Mobile Menu Toggle -->
                <button class="md:hidden p-2" onclick="document.getElementById('mobileMenu').classList.toggle('hidden')">
                    <img src="../../../public/icon/menu.svg" alt="Menu" class="w-6 h-6 ">
                </button>
            </div>
            
            <!-- Mobile Menu Dropdown -->
            <div id="mobileMenu" class="hidden md:hidden absolute top-full left-0 right-0 border-t-black/10 border-t-[1px] bg-white p-6 shadow-sm">
                <div class="flex flex-col h4 gap-5">
                    <a href="../../index.html" class=" hover:opacity-60 transition-opacity">Home</a>
                    <a href="../menu/index.html" class=" hover:opacity-60 transition-opacity">Menu</a>
                    <a href="../contact/index.html" class=" hover:opacity-60 transition-opacity">Contact</a>
                </div>
            </div>
        </div>
     </nav>

     <!-- The Body Content -->
      <div class="flex w-full flex-1 bg-white flex-col py-6 md:py-12 items-center px-6 md:px-20 gap-9 md:gap-16">
        <!-- Progress Indicator -->
         <div id="progressIndicator" class="flex items-center justify-center gap-4 w-2/3">
            <div id="step1Indicator" style="background-color: var(--brand-2-700);" class="flex items-center justify-center aspect-square w-9 bg-neutral-300 text-white rounded-full h6">
                <span class="step-number">1</span>
                <svg class="step-check hidden" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M13.3333 4L6 11.3333L2.66667 8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <hr id="line1to2" class="flex-1 border-neutral-300 border-[1px] transition-colors">
            <div id="step2Indicator" class="flex items-center justify-center aspect-square w-9 bg-neutral-300 text-white rounded-full h6">
                <span class="step-number">2</span>
                <svg class="step-check hidden" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M13.3333 4L6 11.3333L2.66667 8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
         </div>

         <!-- Step 1 Content -->
         <div id="step1" class="step-content flex flex-col items-center gap-9 md:gap-12 w-full">
            <div class="gap-3 md:gap-5 flex flex-col items-center">
                <h1 class="h2 text-center">Choose Date & Time</h1>
                <p class="opacity-60">When would you like to study?</p>
            </div>
            <!-- Date and Time Picker -->
            <div class="w-full flex flex-col lg:flex-row gap-6 items-start justify-center">
                <!-- Calendar Section -->
                <div class="calendar-container bg-white border border-neutral-200 rounded-xl shadow-sm p-6 w-full lg:w-auto">
                    <!-- Calendar Header -->
                    <div class="flex items-center justify-between mb-6">
                        <button id="prevMonth" class="p-2 hover:bg-neutral-100 rounded-lg transition-colors">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="flex gap-2 items-center">
                            <select id="monthSelect" class="h6 px-3 py-2 border border-neutral-200 rounded-lg hover:border-neutral-300 focus:outline-none focus:border-brand-2-700 focus:ring-2 focus:ring-brand-2-700/20 cursor-pointer">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                            <select id="yearSelect" class="h6 px-3 py-2 border border-neutral-200 rounded-lg hover:border-neutral-300 focus:outline-none focus:border-brand-2-700 focus:ring-2 focus:ring-brand-2-700/20 cursor-pointer">
                            </select>
                        </div>
                        <button id="nextMonth" class="p-2 hover:bg-neutral-100 rounded-lg transition-colors">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Calendar Grid -->
                    <div class="calendar-grid">
                        <!-- Weekday Headers -->
                        <div class="grid grid-cols-7 gap-2 mb-2">
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">Su</div>
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">Mo</div>
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">Tu</div>
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">We</div>
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">Th</div>
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">Fr</div>
                            <div class="text-center text-sm text-neutral-500 font-medium py-2">Sa</div>
                        </div>
                        <!-- Days Grid -->
                        <div id="calendarDays" class="grid grid-cols-7 gap-2">
                            <!-- Generated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Time Selection Section -->
                <div class="flex flex-col gap-6 w-full lg:w-80">
                    <!-- Selected Date Display -->
                    <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-6">
                        <h5 class="h5 mb-2">Selected Date</h5>
                        <p id="selectedDateDisplay" class="text-brand-2-700 font-medium">Select a date</p>
                    </div>

                    <!-- Time Pickers -->
                    <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-6 flex flex-col gap-5">
                        <h5 class="h5">Select Time</h5>
                        
                        <!-- Start Time -->
                        <div class="flex flex-col gap-2">
                            <label for="startTime" class="text-sm font-medium text-neutral-700">Start Time</label>
                            <select id="startTime" class="p-3 border border-neutral-200 rounded-lg hover:border-neutral-300 focus:outline-none focus:border-brand-2-700 focus:ring-2 focus:ring-brand-2-700/20 cursor-pointer">
                                <option value="">Select start time</option>
                            </select>
                        </div>

                        <!-- Summary -->
                        <div class="pt-4 border-t border-neutral-200">
                            <p class="text-sm text-neutral-600">Duration: <span id="duration" class="font-medium text-brand-2-700">4 hours</span></p>
                        </div>
                    </div>

                    <!-- Continue Button -->
                    <button class="btn-primary justify-center w-full" id="step1ContinueBtn" disabled>
                        <p class="h6">Continue</p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M6 12L10 8L6 4" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
         </div>

         <!-- Step 2 - Payment -->
         <div id="step2" class="step-content hidden flex-col items-center gap-9 md:gap-12 w-full">
            <div class="gap-3 md:gap-5 flex flex-col items-center">
                <h1 class="h2 text-center">Complete Your Payment</h1>
                <p class="opacity-60">Scan the QR code to pay and confirm your booking</p>
            </div>

            <!-- Payment Content -->
            <div class="w-full max-w-4xl flex flex-col lg:flex-row gap-6">
                <!-- QR Code Section -->
                <div class="flex flex-col gap-6 w-full lg:w-1/2">
                    <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-8 flex flex-col items-center gap-6">
                        <h5 class="h5">Scan to Pay</h5>
                        <div class="w-full aspect-square max-w-xs bg-neutral-100 rounded-xl overflow-hidden">
                            <img src="../../../public/booking/qr.jpg" alt="Payment QR Code" class="w-full h-full object-contain" />
                        </div>
                        <div class="flex flex-col gap-2 text-center">
                            <p class="text-sm opacity-60">Scan this QR code with your mobile banking app</p>
                            <p class="text-sm font-medium text-brand-2-700">Payment expires in 15:00 minutes</p>
                        </div>
                    </div>
                </div>

                <!-- Order Summary Section -->
                <div class="flex flex-col gap-6 w-full lg:w-1/2">
                    <!-- Deal Details -->
                    <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-6 flex flex-col gap-5">
                        <h5 class="h5">Your Deal</h5>
                        
                        <div class="flex flex-col gap-4">
                            <div class="flex flex-col gap-2">
                                <p class="h4" id="dealName">Focus Fuel Bundle</p>
                                <p class="opacity-60" id="dealDescription">4-hour Solo Desk + 1 Coffee + 1 Pastry</p>
                            </div>

                            <!-- Date -->
                            <div class="flex items-start gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="mt-0.5">
                                    <path d="M15.8333 3.33337H4.16667C3.24619 3.33337 2.5 4.07957 2.5 5.00004V16.6667C2.5 17.5872 3.24619 18.3334 4.16667 18.3334H15.8333C16.7538 18.3334 17.5 17.5872 17.5 16.6667V5.00004C17.5 4.07957 16.7538 3.33337 15.8333 3.33337Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.3333 1.66663V4.99996" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6.66667 1.66663V4.99996" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M2.5 8.33337H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="flex flex-col gap-1">
                                    <p class="text-sm font-medium">Date</p>
                                    <p id="summaryDate" class="text-sm opacity-60">-</p>
                                </div>
                            </div>

                            <!-- Time -->
                            <div class="flex items-start gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="mt-0.5">
                                    <path d="M10 18.3334C14.6024 18.3334 18.3333 14.6025 18.3333 10C18.3333 5.39765 14.6024 1.66671 10 1.66671C5.39763 1.66671 1.66669 5.39765 1.66669 10C1.66669 14.6025 5.39763 18.3334 10 18.3334Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M10 5V10L13.3333 11.6667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="flex-col gap-1">
                                    <p class="text-sm font-medium">Start Time</p>
                                    <p id="summaryTime" class="text-sm opacity-60">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Price Breakdown -->
                    <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-6 flex flex-col gap-5">
                        <h5 class="h5">Price Breakdown</h5>
                        
                        <div class="flex flex-col gap-3">
                            <!-- Original Price -->
                            <div class="flex items-center justify-between">
                                <p class="text-sm opacity-60">Original Price</p>
                                <p class="text-sm font-medium line-through">$<span id="originalPrice">25</span></p>
                            </div>

                            <!-- Deal Discount -->
                            <div class="flex items-center justify-between">
                                <p class="text-sm opacity-60">Deal Discount</p>
                                <p class="text-sm font-medium text-green-600">-$<span id="discount">7</span></p>
                            </div>

                            <hr class="border-neutral-200">

                            <!-- Total -->
                            <div class="flex items-center justify-between">
                                <p class="h6">Total</p>
                                <p class="h4 text-brand-2-700">$<span id="totalPrice">18</span></p>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="flex items-center gap-4 w-full">
                        <button class="btn-secondary justify-center flex-1" id="step2BackBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="h6">Back</p>
                        </button>
                        <button class="btn-primary justify-center flex-1" id="confirmPaymentBtn">
                            <p class="h6">Confirm Payment</p>
                        </button>
                    </div>
                </div>
            </div>
         </div>

         <!-- Step 3 - Confirmation -->
         <div id="step3" class="step-content hidden flex-col items-center gap-5 md:gap-6 w-full">
            <div class="gap-2 flex flex-col items-center text-center max-w-2xl">
                <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M20 6L9 17L4 12" stroke="#16a34a" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h1 class="h3 md:h2">Booking Confirmed!</h1>
                <p class="text-sm opacity-60">Show this QR code to the cashier when you arrive.</p>
            </div>

            <!-- Confirmation Content -->
            <div class="w-full max-w-5xl flex flex-col lg:flex-row gap-4 md:gap-5">
                <!-- QR Code Card -->
                <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-5 md:p-6 flex flex-col items-center gap-4 lg:w-2/5" id="qrCodeCard">
                    <h5 class="h6 md:h5">Your Reservation</h5>
                    
                    <!-- Reservation ID -->
                    <div class="flex flex-col items-center gap-1">
                        <p class="text-xs opacity-60">Reservation ID</p>
                        <p class="h5 text-brand-2-700 font-mono" id="reservationId">-</p>
                    </div>

                    <!-- QR Code -->
                    <div class="w-full aspect-square max-w-[200px] lg:max-w-[180px] bg-neutral-100 rounded-lg overflow-hidden p-3">
                        <div class="w-full h-full bg-white rounded-lg flex items-center justify-center">
                            <div id="qrCodePlaceholder" class="text-6xl font-bold text-neutral-300">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" class="w-full h-full">
                                    <rect x="10" y="10" width="80" height="80" fill="black"/>
                                    <rect x="30" y="30" width="40" height="40" fill="white"/>
                                    <rect x="110" y="10" width="80" height="80" fill="black"/>
                                    <rect x="130" y="30" width="40" height="40" fill="white"/>
                                    <rect x="10" y="110" width="80" height="80" fill="black"/>
                                    <rect x="30" y="130" width="40" height="40" fill="white"/>
                                    <rect x="110" y="110" width="30" height="30" fill="black"/>
                                    <rect x="150" y="110" width="40" height="30" fill="black"/>
                                    <rect x="110" y="150" width="40" height="40" fill="black"/>
                                    <rect x="160" y="150" width="30" height="40" fill="black"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <p class="text-xs text-center opacity-60">Show this QR code to the cashier</p>
                </div>

                <!-- Reservation Details & Actions -->
                <div class="flex flex-col gap-4 md:gap-5 lg:w-3/5">
                    <!-- Reservation Details -->
                    <div class="bg-white border border-neutral-200 rounded-xl shadow-sm p-5 md:p-6 flex flex-col gap-4">
                        <h5 class="h6 md:h5">Reservation Details</h5>
                        
                        <div class="flex flex-col gap-3">
                            <!-- Deal -->
                            <div class="flex items-start gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" class="mt-0.5 flex-shrink-0">
                                    <path d="M19 3.33337H5C3.89543 3.33337 3 4.2288 3 5.33337V19.3334C3 20.4379 3.89543 21.3334 5 21.3334H19C20.1046 21.3334 21 20.4379 21 19.3334V5.33337C21 4.2288 20.1046 3.33337 19 3.33337Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M15 9.33337L9 15.3334" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M9 9.33337H9.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M15 15.3334H15.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="flex flex-col gap-0.5">
                                    <p class="text-xs font-medium">Deal</p>
                                    <p id="confirmDeal" class="text-sm opacity-60">-</p>
                                </div>
                            </div>

                            <!-- Date -->
                            <div class="flex items-start gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" class="mt-0.5 flex-shrink-0">
                                    <path d="M15.8333 3.33337H4.16667C3.24619 3.33337 2.5 4.07957 2.5 5.00004V16.6667C2.5 17.5872 3.24619 18.3334 4.16667 18.3334H15.8333C16.7538 18.3334 17.5 17.5872 17.5 16.6667V5.00004C17.5 4.07957 16.7538 3.33337 15.8333 3.33337Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.3333 1.66663V4.99996" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6.66667 1.66663V4.99996" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M2.5 8.33337H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="flex flex-col gap-0.5">
                                    <p class="text-xs font-medium">Date</p>
                                    <p id="confirmDate" class="text-sm opacity-60">-</p>
                                </div>
                            </div>

                            <!-- Time -->
                            <div class="flex items-start gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" class="mt-0.5 flex-shrink-0">
                                    <path d="M10 18.3334C14.6024 18.3334 18.3333 14.6025 18.3333 10C18.3333 5.39765 14.6024 1.66671 10 1.66671C5.39763 1.66671 1.66669 5.39765 1.66669 10C1.66669 14.6025 5.39763 18.3334 10 18.3334Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M10 5V10L13.3333 11.6667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="flex flex-col gap-0.5">
                                    <p class="text-xs font-medium">Start Time</p>
                                    <p id="confirmTime" class="text-sm opacity-60">-</p>
                                </div>
                            </div>

                            <hr class="border-neutral-200 my-1">

                            <!-- Total Amount -->
                            <div class="flex items-center justify-between">
                                <p class="h6">Total Amount Paid</p>
                                <p class="h4 text-brand-2-700">$<span id="confirmTotal">0</span></p>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row items-center gap-3 w-full">
                        <button class="btn-secondary justify-center flex-1 w-full py-3 sm:py-2" id="saveImageBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10" stroke="currentColor" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M4.66669 6.66663L8.00002 9.99996L11.3334 6.66663" stroke="currentColor" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M8 10V2" stroke="currentColor" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="h6">Save Image</p>
                        </button>
                        <a href="../../index.html" class="btn-primary justify-center flex-1 w-full py-3 sm:py-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M2 6L8 2L14 6V13.3333C14 13.687 13.8595 14.0261 13.6095 14.2761C13.3594 14.5262 13.0203 14.6667 12.6667 14.6667H3.33333C2.97971 14.6667 2.64057 14.5262 2.39052 14.2761C2.14048 14.0261 2 13.687 2 13.3333V6Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M6 14.6667V8H10V14.6667" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="h6">Back to Home</p>
                        </a>
                    </div>

                    <!-- Additional Info -->
                    <div class="bg-beige-700 border border-brand-1-300 rounded-lg p-3 flex gap-2.5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" class="mt-0.5 flex-shrink-0">
                            <path d="M10 18.3334C14.6024 18.3334 18.3333 14.6025 18.3333 10C18.3333 5.39765 14.6024 1.66671 10 1.66671C5.39763 1.66671 1.66669 5.39765 1.66669 10C1.66669 14.6025 5.39763 18.3334 10 18.3334Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 13.3334V10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 6.66663H10.0083" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div class="flex flex-col gap-0.5">
                            <p class="text-xs font-medium">Important</p>
                            <p class="text-xs opacity-70">Please arrive 10 minutes before your reservation time and present this QR code at the cashier desk.</p>
                        </div>
                    </div>
                </div>
            </div>
         </div>

      </div>



    </main>

    <style>
        /* Calendar Styles */
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
        }

        .calendar-day:not(.disabled):not(.outside):hover {
            background-color: var(--beige-700);
        }

        .calendar-day.today {
            border: 2px solid var(--brand-2-700);
        }

        .calendar-day.selected {
            background-color: var(--brand-2-700);
            color: white;
        }

        .calendar-day.selected:hover {
            background-color: var(--brand-2-600);
        }

        .calendar-day.outside {
            color: #d1d5db;
        }

        .calendar-day.disabled {
            color: #d1d5db;
            cursor: not-allowed;
            opacity: 0.5;
        }

        #step1ContinueBtn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #step1ContinueBtn:disabled:hover {
            transform: none;
        }

        /* Step Display */
        .step-content {
            display: none;
        }

        .step-content.active {
            display: flex;
        }

        /* Progress Indicator */
        .step-number,
        .step-check {
            transition: opacity 0.2s;
        }
    </style>

    <script>
        // Deal data from URL parameters (default to Focus Fuel Bundle)
        const urlParams = new URLSearchParams(window.location.search);
        const dealData = {
            name: urlParams.get('name') || 'Focus Fuel Bundle',
            description: urlParams.get('desc') || '4-hour Solo Desk + 1 Coffee + 1 Pastry',
            originalPrice: parseFloat(urlParams.get('original') || '25'),
            dealPrice: parseFloat(urlParams.get('price') || '18'),
            duration: parseInt(urlParams.get('duration') || '4')
        };

        // Booking State
        let bookingData = {
            date: null,
            startTime: null,
            dealName: dealData.name,
            dealDescription: dealData.description,
            originalPrice: dealData.originalPrice,
            dealPrice: dealData.dealPrice,
            duration: dealData.duration,
            reservationId: null
        };

        // Calendar State
        let currentDate = new Date();
        let selectedDate = null;
        let currentMonth = currentDate.getMonth();
        let currentYear = currentDate.getFullYear();
        let currentStep = 1;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeYearDropdown();
            initializeTimeDropdowns();
            renderCalendar();
            setupEventListeners();
            showStep(1);
            populateDealInfo();
        });

        // Populate deal information
        function populateDealInfo() {
            document.getElementById('dealName').textContent = dealData.name;
            document.getElementById('dealDescription').textContent = dealData.description;
            document.getElementById('duration').textContent = `${dealData.duration} hours`;
            document.getElementById('originalPrice').textContent = dealData.originalPrice.toFixed(2);
            document.getElementById('discount').textContent = (dealData.originalPrice - dealData.dealPrice).toFixed(2);
            document.getElementById('totalPrice').textContent = dealData.dealPrice.toFixed(2);
        }

        // Initialize year dropdown
        function initializeYearDropdown() {
            const yearSelect = document.getElementById('yearSelect');
            const currentYear = new Date().getFullYear();
            
            for (let year = currentYear; year <= currentYear + 5; year++) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            }
            
            yearSelect.value = currentYear;
        }

        // Initialize time dropdowns (only start time for deals)
        function initializeTimeDropdowns() {
            const startTime = document.getElementById('startTime');
            
            // Generate time options (8 AM to 10 PM in 30-minute intervals)
            for (let hour = 8; hour <= 22; hour++) {
                for (let minute = 0; minute < 60; minute += 30) {
                    const timeValue = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    const displayTime = formatTime(hour, minute);
                    
                    const startOption = document.createElement('option');
                    startOption.value = timeValue;
                    startOption.textContent = displayTime;
                    startTime.appendChild(startOption);
                }
            }
        }

        // Format time to 12-hour format
        function formatTime(hour, minute) {
            const period = hour >= 12 ? 'PM' : 'AM';
            const displayHour = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
            return `${displayHour}:${minute.toString().padStart(2, '0')} ${period}`;
        }

        // Render calendar
        function renderCalendar() {
            const calendarDays = document.getElementById('calendarDays');
            const monthSelect = document.getElementById('monthSelect');
            const yearSelect = document.getElementById('yearSelect');
            
            monthSelect.value = currentMonth;
            yearSelect.value = currentYear;
            
            calendarDays.innerHTML = '';
            
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            const prevLastDay = new Date(currentYear, currentMonth, 0);
            
            const firstDayIndex = firstDay.getDay();
            const lastDayDate = lastDay.getDate();
            const prevLastDayDate = prevLastDay.getDate();
            
            for (let i = firstDayIndex - 1; i >= 0; i--) {
                const day = prevLastDayDate - i;
                const dayElement = createDayElement(day, 'outside');
                calendarDays.appendChild(dayElement);
            }
            
            const today = new Date();
            for (let day = 1; day <= lastDayDate; day++) {
                const date = new Date(currentYear, currentMonth, day);
                const isToday = date.toDateString() === today.toDateString();
                const isSelected = selectedDate && date.toDateString() === selectedDate.toDateString();
                const isPast = date < new Date(today.getFullYear(), today.getMonth(), today.getDate());
                
                let classes = '';
                if (isToday) classes += ' today';
                if (isSelected) classes += ' selected';
                if (isPast) classes += ' disabled';
                
                const dayElement = createDayElement(day, classes, date, !isPast);
                calendarDays.appendChild(dayElement);
            }
            
            const remainingDays = 42 - calendarDays.children.length;
            for (let day = 1; day <= remainingDays; day++) {
                const dayElement = createDayElement(day, 'outside');
                calendarDays.appendChild(dayElement);
            }
        }

        // Create day element
        function createDayElement(day, classes = '', date = null, clickable = false) {
            const dayElement = document.createElement('div');
            dayElement.className = `calendar-day ${classes}`;
            dayElement.textContent = day;
            
            if (clickable && date) {
                dayElement.addEventListener('click', () => selectDate(date, dayElement));
            }
            
            return dayElement;
        }

        // Select date
        function selectDate(date, element) {
            selectedDate = date;
            
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('selectedDateDisplay').textContent = date.toLocaleDateString('en-US', options);
            
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            element.classList.add('selected');
            
            checkFormComplete();
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('prevMonth').addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar();
            });

            document.getElementById('nextMonth').addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar();
            });

            document.getElementById('monthSelect').addEventListener('change', (e) => {
                currentMonth = parseInt(e.target.value);
                renderCalendar();
            });

            document.getElementById('yearSelect').addEventListener('change', (e) => {
                currentYear = parseInt(e.target.value);
                renderCalendar();
            });

            document.getElementById('startTime').addEventListener('change', () => {
                checkFormComplete();
            });

            document.getElementById('step1ContinueBtn').addEventListener('click', () => {
                if (selectedDate && document.getElementById('startTime').value) {
                    bookingData.date = selectedDate;
                    bookingData.startTime = document.getElementById('startTime').value;
                    
                    showStep(2);
                    populatePaymentSummary();
                }
            });

            document.getElementById('step2BackBtn').addEventListener('click', () => {
                showStep(1);
            });

            document.getElementById('confirmPaymentBtn').addEventListener('click', () => {
                bookingData.reservationId = generateReservationId();
                showStep(3);
                populateConfirmationDetails();
            });

            document.getElementById('saveImageBtn').addEventListener('click', () => {
                html2canvas(document.getElementById('qrCodeCard')).then(canvas => {
                    const link = document.createElement('a');
                    link.download = `reservation-${bookingData.reservationId}.png`;
                    link.href = canvas.toDataURL();
                    link.click();
                }).catch(() => {
                    alert('To save the QR code, please take a screenshot of this page.');
                });
            });
        }

        // Show specific step
        function showStep(stepNumber) {
            currentStep = stepNumber;
            
            document.querySelectorAll('.step-content').forEach(step => {
                step.classList.remove('active');
            });
            
            document.getElementById('step' + stepNumber).classList.add('active');
            
            const progressIndicator = document.getElementById('progressIndicator');
            if (stepNumber === 3) {
                progressIndicator.style.display = 'none';
            } else {
                progressIndicator.style.display = 'flex';
                updateProgressIndicator(stepNumber);
            }
        }

        // Update progress indicator
        function updateProgressIndicator(stepNumber) {
            [1, 2].forEach(num => {
                const indicator = document.getElementById('step' + num + 'Indicator');
                const stepNumberEl = indicator.querySelector('.step-number');
                const stepCheckEl = indicator.querySelector('.step-check');
                
                if (num < stepNumber) {
                    indicator.style.backgroundColor = 'var(--brand-2-700)';
                    stepNumberEl.classList.add('hidden');
                    stepCheckEl.classList.remove('hidden');
                } else if (num === stepNumber) {
                    indicator.style.backgroundColor = 'var(--brand-2-700)';
                    stepNumberEl.classList.remove('hidden');
                    stepCheckEl.classList.add('hidden');
                } else {
                    indicator.style.backgroundColor = '';
                    stepNumberEl.classList.remove('hidden');
                    stepCheckEl.classList.add('hidden');
                }
            });
            
            const line1to2 = document.getElementById('line1to2');
            if (stepNumber >= 2) {
                line1to2.style.borderColor = 'var(--brand-2-700)';
            } else {
                line1to2.style.borderColor = '';
            }
        }

        // Check if form is complete
        function checkFormComplete() {
            const continueBtn = document.getElementById('step1ContinueBtn');
            const startTime = document.getElementById('startTime').value;
            
            if (selectedDate && startTime) {
                continueBtn.disabled = false;
            } else {
                continueBtn.disabled = true;
            }
        }

        // Populate payment summary
        function populatePaymentSummary() {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('summaryDate').textContent = bookingData.date.toLocaleDateString('en-US', options);
            
            const startTime12h = convertTo12Hour(bookingData.startTime);
            document.getElementById('summaryTime').textContent = startTime12h;
        }

        // Helper function to convert 24h to 12h format
        function convertTo12Hour(time24) {
            const [hour, minute] = time24.split(':').map(Number);
            const period = hour >= 12 ? 'PM' : 'AM';
            const hour12 = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
            return `${hour12}:${minute.toString().padStart(2, '0')} ${period}`;
        }

        // Generate reservation ID
        function generateReservationId() {
            const prefix = 'TNK';
            const timestamp = Date.now().toString().slice(-8);
            const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            return `${prefix}-${timestamp}-${random}`;
        }

        // Populate confirmation details
        function populateConfirmationDetails() {
            document.getElementById('reservationId').textContent = bookingData.reservationId;
            
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('confirmDate').textContent = bookingData.date.toLocaleDateString('en-US', options);
            
            const startTime12h = convertTo12Hour(bookingData.startTime);
            document.getElementById('confirmTime').textContent = startTime12h;
            
            document.getElementById('confirmDeal').textContent = bookingData.dealName;
            document.getElementById('confirmTotal').textContent = bookingData.dealPrice.toFixed(2);
        }
    </script>
    
    <!-- html2canvas for screenshot functionality -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
  </body>
</html>

